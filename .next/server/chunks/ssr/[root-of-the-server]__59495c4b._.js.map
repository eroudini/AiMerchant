{"version":3,"sources":["turbopack:///[project]/Desktop/AiMerchant/node_modules/next/src/server/route-modules/app-page/module.compiled.js","turbopack:///[project]/Desktop/AiMerchant/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/Desktop/AiMerchant/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","turbopack:///[project]/Desktop/AiMerchant/src/app/settings/page.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\r\nimport React from \"react\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\nconst ACCENT_FROM = \"from-indigo-500\";\r\nconst ACCENT_TO = \"to-fuchsia-500\";\r\nconst CARD = \"bg-[#2b2324]/80 backdrop-blur-xl border border-white/10 rounded-2xl shadow-[0_8px_30px_rgba(0,0,0,0.35)]\";\r\n\r\nexport default function SettingsPage() {\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n  const [successMessage, setSuccessMessage] = React.useState<string | null>(null);\r\n  \r\n  // État pour la modification de l'email\r\n  const [newEmail, setNewEmail] = React.useState(\"\");\r\n  \r\n  // État pour la modification du mot de passe\r\n  const [currentPassword, setCurrentPassword] = React.useState(\"\");\r\n  const [newPassword, setNewPassword] = React.useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = React.useState(\"\");\r\n\r\n  const handleUpdateEmail = async () => {\r\n    if (!newEmail) {\r\n      setError(\"Veuillez entrer une nouvelle adresse email\");\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(\"/api/profile\", {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ email: newEmail }),\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(\"Erreur lors de la mise à jour de l'email\");\r\n      }\r\n      \r\n      setSuccessMessage(\"Email mis à jour avec succès\");\r\n      setNewEmail(\"\");\r\n    } catch (e: any) {\r\n      setError(e.message || \"Erreur lors de la mise à jour de l'email\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdatePassword = async () => {\r\n    if (!currentPassword || !newPassword || !confirmPassword) {\r\n      setError(\"Veuillez remplir tous les champs\");\r\n      return;\r\n    }\r\n    \r\n    if (newPassword !== confirmPassword) {\r\n      setError(\"Les mots de passe ne correspondent pas\");\r\n      return;\r\n    }\r\n\r\n    if (newPassword.length < 8) {\r\n      setError(\"Le nouveau mot de passe doit contenir au moins 8 caractères\");\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(\"/api/profile\", {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          currentPassword,\r\n          newPassword\r\n        }),\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(\"Erreur lors de la mise à jour du mot de passe\");\r\n      }\r\n      \r\n      setSuccessMessage(\"Mot de passe mis à jour avec succès\");\r\n      setCurrentPassword(\"\");\r\n      setNewPassword(\"\");\r\n      setConfirmPassword(\"\");\r\n    } catch (e: any) {\r\n      setError(e.message || \"Erreur lors de la mise à jour du mot de passe\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-3 md:p-6 space-y-6\">\r\n      <div className=\"text-xl font-semibold tracking-tight text-white/90\">Paramètres</div>\r\n      \r\n      {/* Préférences générales */}\r\n      <Card className={CARD}>\r\n        <CardContent className=\"p-5 space-y-4\">\r\n          <div className=\"text-sm font-medium text-white/90\">Préférences</div>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"text-sm text-white/90\">Notifications par e-mail</div>\r\n              <div className=\"text-xs text-muted-foreground\">Alertes et mises à jour</div>\r\n            </div>\r\n            <Switch defaultChecked />\r\n          </div>\r\n          <div className=\"grid gap-2 md:grid-cols-2\">\r\n            <div>\r\n              <div className=\"text-xs text-muted-foreground mb-1\">Nom d'affichage</div>\r\n              <Input placeholder=\"Votre nom\" defaultValue=\"Eroudini\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-xs text-muted-foreground mb-1\">Langue</div>\r\n              <Input placeholder=\"Français\" defaultValue=\"Français\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"pt-2\">\r\n            <Button className={`rounded-xl bg-gradient-to-r ${ACCENT_FROM} ${ACCENT_TO} text-white hover:opacity-95`}>\r\n              Enregistrer\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Messages de succès ou d'erreur */}\r\n      {error && (\r\n        <div className=\"bg-red-500/10 border border-red-500/20 text-red-400 p-3 rounded-xl text-sm\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      {successMessage && (\r\n        <div className=\"bg-green-500/10 border border-green-500/20 text-green-400 p-3 rounded-xl text-sm\">\r\n          {successMessage}\r\n        </div>\r\n      )}\r\n\r\n      {/* Modification de l'email */}\r\n      <Card className={CARD}>\r\n        <CardContent className=\"p-5 space-y-4\">\r\n          <div className=\"text-sm font-medium text-white/90\">Modifier l'adresse email</div>\r\n          <div>\r\n            <div className=\"text-xs text-muted-foreground mb-1\">Nouvelle adresse email</div>\r\n            <Input \r\n              type=\"email\" \r\n              placeholder=\"nouvelle@email.com\" \r\n              value={newEmail}\r\n              onChange={(e) => setNewEmail(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"pt-2\">\r\n            <Button \r\n              onClick={handleUpdateEmail}\r\n              disabled={loading || !newEmail}\r\n              className={`rounded-xl bg-gradient-to-r ${ACCENT_FROM} ${ACCENT_TO} text-white hover:opacity-95`}\r\n            >\r\n              {loading ? \"Mise à jour...\" : \"Mettre à jour l'email\"}\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Modification du mot de passe */}\r\n      <Card className={CARD}>\r\n        <CardContent className=\"p-5 space-y-4\">\r\n          <div className=\"text-sm font-medium text-white/90\">Modifier le mot de passe</div>\r\n          <div>\r\n            <div className=\"text-xs text-muted-foreground mb-1\">Mot de passe actuel</div>\r\n            <Input \r\n              type=\"password\" \r\n              value={currentPassword}\r\n              onChange={(e) => setCurrentPassword(e.target.value)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <div className=\"text-xs text-muted-foreground mb-1\">Nouveau mot de passe</div>\r\n            <Input \r\n              type=\"password\" \r\n              value={newPassword}\r\n              onChange={(e) => setNewPassword(e.target.value)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <div className=\"text-xs text-muted-foreground mb-1\">Confirmer le nouveau mot de passe</div>\r\n            <Input \r\n              type=\"password\" \r\n              value={confirmPassword}\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"pt-2\">\r\n            <Button \r\n              onClick={handleUpdatePassword}\r\n              disabled={loading || !currentPassword || !newPassword || !confirmPassword}\r\n              className={`rounded-xl bg-gradient-to-r ${ACCENT_FROM} ${ACCENT_TO} text-white hover:opacity-95`}\r\n            >\r\n              {loading ? \"Mise à jour...\" : \"Mettre à jour le mot de passe\"}\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"yNA0BQG,GAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEC,eAAe,+BCFxCP,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEE,KAAK,oCCD9B,EAAA,CAAA,CAAA","ignoreList":[0,1,2]}